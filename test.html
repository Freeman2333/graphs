<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>test</title>
  </head>
  <body>
    <script>
      // функция поиска вариантов перелетов из точки
      // function fetchFlights (from: string): Promise<string[]>;
      // Например, для

      // findPath("A", "N", fetchFlights); // Promise.resolve(['A', 'B', 'N'])
      // findPath("A", "S", fetchFlights); // Promise.resolve(['A', 'D', 'F', 'S'
      //findPath('B', 'S', fetchFlights) // Promise.reject (new Error('No way'))
      // функция поиска составного авиабилета

      const graph = {
        A: ["B", "D"],
        B: ["C", "N", "Z"],
        D: ["E", "F"],
        F: ["S"],
      };

      function findPath(from, to, fetchFlights) {
        return new Promise((resolve, reject) => {
          const queue = [[from, [from]]];

          while (queue.length) {
            let [node, route] = queue.shift();

            if (node === to) {
              resolve(route);
            }
            for (const neighbor of graph[node] || []) {
              const localRoute = [...route, neighbor];
              queue.push([neighbor, localRoute]);
            }
          }

          reject(new Error("No way"));
        });
      }

      findPath("B", "S")
        .then((v) => console.log({ v }))
        .catch((e) => console.log({ e }));
    </script>
  </body>
</html>
